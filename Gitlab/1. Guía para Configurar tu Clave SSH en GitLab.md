# 🚀 Guía para Configurar tu Clave SSH en GitLab

Utilizar una clave SSH te permite interactuar con tus repositorios de GitLab de forma **segura** (cifrada) y **cómoda** (sin introducir la contraseña constantemente).

## 1. Fase Local: Generar y Gestionar la Clave

El par de claves SSH se compone de una **clave privada** (secreto, se queda en tu PC) y una **clave pública** (se sube a GitLab).

### 1.1. Generar la Clave (Si aún no la tienes)

Abre tu Terminal (o Git Bash en Windows) y ejecuta el comando para crear una clave, usando el algoritmo seguro Ed25519:

Bash

```
ssh-keygen -t ed25519 -C "tu_email_de_gitlab@ejemplo.com"
```

1. **Ubicación:** Acepta la ubicación por defecto (`~/.ssh/id_ed25519`).
    
2. **Passphrase:** **Crea una frase de contraseña fuerte** (Passphrase). Esta es una capa de seguridad esencial que protege tu clave privada.
    

### 1.2. Iniciar el Agente SSH (Obligatorio para la comodidad)

El **`ssh-agent`** almacena tu clave desbloqueada en la memoria, evitando que tengas que escribir la _passphrase_ en cada operación Git.

Ejecuta estos dos comandos:

Bash

```
# 1. Inicia el agente SSH y configura el entorno
eval "$(ssh-agent -s)"

# 2. Añade tu clave privada al agente (aquí te pedirá la Passphrase)
ssh-add ~/.ssh/id_ed25519
```

> **Nota:** Deberás ejecutar el paso `eval` y `ssh-add` **cada vez** que abras una nueva sesión de terminal (a menos que lo configures para que se ejecute automáticamente).

### 1.3. Copiar la Clave Pública

Necesitas copiar el contenido completo del archivo de la clave pública (termina en `.pub`).

Bash

```
# En Linux/macOS
cat ~/.ssh/id_ed25519.pub

# En Windows (usando Git Bash para copiar al portapapeles)
clip < ~/.ssh/id_ed25519.pub
```

Copia toda la línea de texto, incluyendo el prefijo (`ssh-ed25519`) y el correo electrónico al final.

---

## 2. Fase Remota: Añadir la Clave a tu Perfil de GitLab

Una vez copiada la clave pública, es el momento de registrarla en tu instancia de GitLab.

1. **Accede a GitLab** y haz clic en tu **Avatar de usuario** (esquina superior derecha).
    
2. Ve a **Settings** (Configuración).
    
3. En el menú lateral, haz clic en **SSH Keys**.
    
4. Pega la clave pública completa que copiaste en el área de texto bajo **Key**.
    
5. Asígnale un **Title** (Título) descriptivo (e.g., "Mi portátil de desarrollo").
    
6. Haz clic en **Add key**.
    

---

## 3. Verificación y Uso

### 3.1. Probar la Conexión

Verifica que la conexión SSH funciona correctamente:

Bash

```
ssh -T -p 2222 git@<tu_hostname_gitlab>
```

> **Nota:** Reemplaza `<tu_hostname_gitlab>` con el nombre de host de tu instancia (e.g., `gitlabServer`).

Si la clave se configuró correctamente, verás un mensaje de bienvenida de GitLab (por ejemplo: `Welcome to GitLab, @<tu_usuario>!`).

### 3.2. Cambiar la URL del Repositorio Local

Si tu proyecto ya estaba clonado usando HTTPS, debes cambiar el protocolo a SSH:

1. **Localiza la URL SSH** de tu proyecto en GitLab (la encontrarás en el botón "Clone" del proyecto, y se verá así: `git@gitlabServer:user/repo.git`).
    
2. En la carpeta local de tu repositorio, ejecuta:
    
    Bash
    
    ```
    git remote set-url origin git@<URL_SSH_DE_TU_PROYECTO>
    ```
    

A partir de ahora, cada operación de `git pull` o `git push` se realizará de forma segura utilizando tu clave SSH.